#!/usr/bin/env python
# -*- coding: utf-8 -*-

# **********************************************************
# * Author        : Adam
# * Email         : zju_duwangze@163.com
# * Create time   : 2019/9/17 10:44
# * Filename      : work111.py
# * Description   : 
# **********************************************************

def chk_cnt(str):
    mistary = 13
    # init
    res_list = [0]*mistary
    pretty = 0
    pow_list = []
    for idx, x in enumerate(str[::-1]):
        if x == "?":
            pow_list.append(idx)
        else:
            pretty += int(x) * pow(10, idx)
    res_list[pretty % mistary] = 1

    # loop
    for base_pow in pow_list:
        base = pow(10, base_pow)
        _tmp_list = [0] * 13
        for each_test in xrange(10):
            _tmp_list[base * each_test % mistary] += 1
        res_backup = [0] * 13
        for idx, x in enumerate(res_list):
            if not x: continue
            for idy, y in enumerate(_tmp_list):
                idz = (idx+idy) % mistary
                res_backup[idz] += x * y
        res_list = res_backup
        print "res", res_list

    print res_list[5] % (pow(10, 9) + 7)



def main():
    chk_cnt("????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????5")
    pass


if __name__ == "__main__":
    main()
